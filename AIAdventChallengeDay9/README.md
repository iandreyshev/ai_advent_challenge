# День 9: Сжатие диалога

iOS-приложение с автоматической компрессией истории чата через LLM.

## Возможности

- Автоматическое сжатие истории каждые 4 сообщения
- Сравнение использования токенов с/без компрессии
- Демо-режим с 12 автоматическими шагами
- Retry-механизм при ошибках

## Технологии

- **SwiftUI** — пользовательский интерфейс
- **Yandex Cloud GenerativeAI API**
- **URLSession** — HTTP запросы

## Как работает сжатие

```
[Сообщение 1] [Сообщение 2] [Сообщение 3] [Сообщение 4]
                          ↓
              [Summary] + [Последние 3 сообщения]
```

1. Каждые 4 сообщения LLM создаёт краткое summary
2. Summary заменяет старые сообщения
3. Контекст = summary + последние 3 сообщения

## Структура

```
AIAdventChallengeDay9/
├── ContentView.swift    # UI и логика сжатия
├── Secrets.swift        # API ключи (gitignored)
└── Assets/
```

## Запуск

1. Добавьте Yandex API ключи в `Secrets.swift`
2. Откройте в Xcode и запустите

## Демо-режим

Автоматически отправляет 12 тестовых фраз для демонстрации:
- Показывает экономию токенов
- Сравнивает режимы с/без сжатия
- Включает retry при ошибках
