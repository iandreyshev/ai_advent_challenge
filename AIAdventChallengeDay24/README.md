# День 24: Скрипт автоматизации релизов

Bash-скрипт для автоматизации процесса выпуска мобильных приложений.

## Возможности

- Мёрж релизной ветки в master
- Отправка сообщения в Rocket.Chat
- Генерация ссылки на YouTrack с задачами релиза
- Поддержка нескольких маркетов и приложений

## Поддерживаемые маркеты

| Маркет | Описание |
|--------|----------|
| App Store | iOS |
| Google Play | Android |
| AppGallery | Huawei |
| RuStore | Российский маркет |

## Поддерживаемые приложения

- iSpring Learn
- Спринт

## Использование

```bash
./run.sh -v <version> -n "<notes>" -m "<market>" -a "<app>"

# Пример
./run.sh -v 2.5.0 -n "Исправлены баги" -m "Google Play" -a "iSpring Learn"
```

## Параметры

| Флаг | Описание |
|------|----------|
| `-v` | Версия релиза |
| `-n` | Release notes |
| `-m` | Маркет |
| `-b` | Ветка (опционально) |
| `-a` | Приложение |

## Переменные окружения

```bash
export RC_RELEASE_BOT_ID="bot-id"
export RC_RELEASE_BOT_AUTH_TOKEN="token"
export RC_RECEIVER_ID="#channel"
export GIT_REMOTE="origin"  # опционально
```

## Что делает скрипт

1. Валидирует версию (только цифры и точки)
2. Проверяет существование релизной ветки
3. Мёржит `release_<version>` в `master`
4. Отправляет сообщение в Rocket.Chat
5. Генерирует ссылку на YouTrack

## Зависимости

- Bash 4+
- `git`
- `curl`
- `jq` (опционально, есть fallback)
